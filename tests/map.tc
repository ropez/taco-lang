
fun test_simple_map() {
    fun double(a: int) { a + a }
    fun foo(a: str) { a }

    result = [1, 2, 3].map(double)

    assert result == [2, 4, 6]
}

fun test_map_to_string() {
    fun fmt(p: (a: int, b: int)) { "${p.a}x${p.b}" }

    result = [(5, 2), (3, 1), (4, 6)].map(fmt)

    assert result == ["5x2", "3x1", "4x6"]
}

fun test_inline_callback() {
    list = ["foo", "bar"]
    result = list.map(fun(i: str) { i.split_at(1) })

    assert result == [("f", "oo"), ("b", "ar")]
}
